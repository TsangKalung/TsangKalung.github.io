<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>2018/5/6 | Tsang&#39;s tech-diary</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="icon" href="public/favicon.ico">
    <meta name="description" content="Tsang's tech-diary">
    <link rel="preload" href="/assets/css/0.styles.2f0cd5b2.css" as="style"><link rel="preload" href="/assets/js/app.037949d7.js" as="script"><link rel="preload" href="/assets/js/2.887c518d.js" as="script"><link rel="preload" href="/assets/js/27.5cc4cd26.js" as="script"><link rel="prefetch" href="/assets/js/10.6232e6b7.js"><link rel="prefetch" href="/assets/js/11.80e3302f.js"><link rel="prefetch" href="/assets/js/12.f888891e.js"><link rel="prefetch" href="/assets/js/13.549a6124.js"><link rel="prefetch" href="/assets/js/14.2b7c4b91.js"><link rel="prefetch" href="/assets/js/15.ccfd49aa.js"><link rel="prefetch" href="/assets/js/16.3f93918a.js"><link rel="prefetch" href="/assets/js/17.1d6eba70.js"><link rel="prefetch" href="/assets/js/18.0d90c0bc.js"><link rel="prefetch" href="/assets/js/19.33f1da56.js"><link rel="prefetch" href="/assets/js/20.7b766fa6.js"><link rel="prefetch" href="/assets/js/21.55a689a3.js"><link rel="prefetch" href="/assets/js/22.3c1881bf.js"><link rel="prefetch" href="/assets/js/23.48a16bd3.js"><link rel="prefetch" href="/assets/js/24.0a796425.js"><link rel="prefetch" href="/assets/js/25.e579c2d8.js"><link rel="prefetch" href="/assets/js/26.77962012.js"><link rel="prefetch" href="/assets/js/28.d29c19f5.js"><link rel="prefetch" href="/assets/js/29.023dd193.js"><link rel="prefetch" href="/assets/js/3.d25a398b.js"><link rel="prefetch" href="/assets/js/30.8c47b278.js"><link rel="prefetch" href="/assets/js/31.2a91a22d.js"><link rel="prefetch" href="/assets/js/32.204c9130.js"><link rel="prefetch" href="/assets/js/33.faa17c55.js"><link rel="prefetch" href="/assets/js/34.5a96503c.js"><link rel="prefetch" href="/assets/js/35.22820fc3.js"><link rel="prefetch" href="/assets/js/36.ad39e165.js"><link rel="prefetch" href="/assets/js/4.9c558ba9.js"><link rel="prefetch" href="/assets/js/5.e0781759.js"><link rel="prefetch" href="/assets/js/6.a173d2d7.js"><link rel="prefetch" href="/assets/js/7.e4625840.js"><link rel="prefetch" href="/assets/js/8.cb84b580.js"><link rel="prefetch" href="/assets/js/9.70685e7c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.2f0cd5b2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Tsang's tech-diary</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/TsangKalung" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/TsangKalung" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>About</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/" class="sidebar-link">Introduction 关于我</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Dairy</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2018/5/3.html" class="sidebar-link">2018/5/3</a></li><li><a href="/2018/5/4.html" class="sidebar-link">2018/5/4</a></li><li><a href="/2018/5/5.html" class="sidebar-link">2018/5/5</a></li><li><a href="/2018/5/6.html" class="active sidebar-link">2018/5/6</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/2018/5/6.html#electron" class="sidebar-link">Electron</a></li></ul></li><li><a href="/2018/5/7.html" class="sidebar-link">2018/5/7</a></li><li><a href="/2018/5/8.html" class="sidebar-link">2018/5/8</a></li><li><a href="/2018/5/10.html" class="sidebar-link">2018/5/10</a></li><li><a href="/2018/5/11.html" class="sidebar-link">2018/5/11</a></li><li><a href="/2018/5/13.html" class="sidebar-link">2018/5/13</a></li><li><a href="/2018/5/14.html" class="sidebar-link">2018/5/14</a></li><li><a href="/2018/5/17.html" class="sidebar-link">2018/5/17</a></li><li><a href="/2018/5/18.html" class="sidebar-link">2018/5/18</a></li><li><a href="/2018/5/19.html" class="sidebar-link">2018/5/19</a></li><li><a href="/2018/5/21.html" class="sidebar-link">2018/5/21</a></li><li><a href="/2018/5/22.html" class="sidebar-link">2018/5/22</a></li><li><a href="/2018/5/24.html" class="sidebar-link">2018/5/24</a></li><li><a href="/2018/5/25.html" class="sidebar-link">2018/5/25</a></li><li><a href="/2018/6/3.html" class="sidebar-link">2018/6/3</a></li><li><a href="/2018/6/4.html" class="sidebar-link">2018/6/4</a></li><li><a href="/2018/6/9.html" class="sidebar-link">2018/6/9</a></li><li><a href="/2018/7/9.html" class="sidebar-link">2018/7/9</a></li><li><a href="/2018/10/4.html" class="sidebar-link">2018/10/4</a></li><li><a href="/2018/10/9.html" class="sidebar-link">2018/10/9</a></li><li><a href="/2018/10/16.html" class="sidebar-link">2018/10/16</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Feeling</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2019/北京的夜雨.html" class="sidebar-link">北京的夜雨</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Blog</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/2019/2019年如何在App Store上架.html" class="sidebar-link">2019 年如何在 App Store 上架一个 iOS App？</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Photograph</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/photograph/urban.html" class="sidebar-link">Urban 都会</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_2018-5-6"><a href="#_2018-5-6" class="header-anchor">#</a> 2018/5/6</h1> <h2 id="electron"><a href="#electron" class="header-anchor">#</a> Electron</h2> <ul><li><p>All APIs available in Node.js are available in Electron. Calling the following code from an Electron app works.</p></li> <li><p>There is one important caveat: Native Node.js modules (that is, modules that require compilation of native code before they can be used) will need to be compiled to be used with Electron.</p> <blockquote><p>The native Node modules are supported by Electron, but since Electron is very likely to use a different V8 version from the Node binary installed in your system, you have to manually specify the location of Electron's headers when building native modules.</p></blockquote></li> <li><p>An example of installing <code>electron-rebuild</code> and then rebuild modules with it:</p> <div class="language- extra-class"><pre><code>npm install --save-dev electron-rebuild

# Every time you run &quot;npm install&quot;, run this:
./node_modules/.bin/electron-rebuild

# On Windows if you have trouble, try:
.\node_modules\.bin\electron-rebuild.cmd
</code></pre></div></li> <li><p><a href="https://electronjs.org/docs/tutorial/security" target="_blank" rel="noopener noreferrer">Security, Native Capabilities, and Your Responsibility<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>You can use the <a href="https://electronjs.org/docs/api/menu" target="_blank" rel="noopener noreferrer">Menu<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> module to configure keyboard shortcuts that will be triggered only when the app is <strong>focused</strong>. To do so, specify an <code>accelerator</code> property when creating a <a href="https://electronjs.org/docs/api/menu-item" target="_blank" rel="noopener noreferrer">MenuItem<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></li> <li><p><a href="https://electronjs.org/docs/tutorial/debugging-main-process-vscode" target="_blank" rel="noopener noreferrer">Debugging the Main Process in VSCode.<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>A &quot;complete tool for building modern Electron applications&quot;. Electron Forge unifies the existing (and well maintained) build tools for Electron development into a simple, easy to use package so that anyone can jump right in to Electron development.Forge comes with ready-to-use templates for popular frameworks like React, Vue, or Angular. It uses the same core modules used by the greater Electron community (like electron-packager) – changes made by Electron maintainers (like Slack) benefit Forge's users, too.</p></li> <li><p>If you don't want any tools but simply a solid boilerplate to build from, CT Lin's <a href="https://github.com/chentsulin/electron-react-boilerplate" target="_blank" rel="noopener noreferrer">electron-react-boilerplate<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> might be worth a look. It's quite popular in the community and uses electron-builder internally.</p></li> <li><p>Electron supports the <a href="https://developer.chrome.com/extensions/devtools" target="_blank" rel="noopener noreferrer">Chrome DevTools Extension<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which can be used to extend the ability of devtools for debugging popular web frameworks.</p> <ul><li><a href="https://github.com/MarshallOfSound/electron-devtools-installer" target="_blank" rel="noopener noreferrer"><code>Electron-devtools-installer</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, a third-party tool that downloads extensions directly from the Chrome WebStore.</li></ul></li> <li><p>The most comprehensive tool to debug individual renderer processes is the Chromium Developer Toolset. It is available for all renderer processes, including instances of BrowserWindow, BrowserView, and WebView. You can open them programmatically by calling the openDevTools() API on the webContents of the instance:</p></li></ul> <div class="language-Javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> BrowserWindow <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'electron'</span><span class="token punctuation">)</span>

<span class="token keyword">let</span> win <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BrowserWindow</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
win<span class="token punctuation">.</span>webContents<span class="token punctuation">.</span><span class="token function">openDevTools</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>The Chromium Developer Tools can be used to debug Electron's main process.</li> <li>To handle keyboard shortcuts for a BrowserWindow, use the <code>keyup</code> and <code>keydown</code> event listeners on the window object inside the renderer process.</li> <li>To distribute your app with Electron, you need to download Electron's prebuilt binaries. Next, the folder containing your app should be named <code>app</code> and placed in Electron's resources directory as shown in the following examples. Note that the location of Electron's prebuilt binaries is indicated with <code>electron/</code> in the examples below.Then execute Electron.app (or electron on Linux, electron.exe on Windows), and Electron will start as your app. <strong>The electron directory will then be your distribution to deliver to final users.</strong> <ul><li>To use an <code>asar</code> archive to replace the app folder, you need to rename the archive to app.asar, and put it under Electron's resources directory like below, and Electron will then try to read the archive and start from it.</li></ul></li> <li>You can rename electron.exe to any name you like, and edit its icon and other information with tools like <a href="https://github.com/electron/rcedit" target="_blank" rel="noopener noreferrer">rcedit<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/2018/5/5.html" class="prev">
        2018/5/5
      </a></span> <span class="next"><a href="/2018/5/7.html">
        2018/5/7
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.037949d7.js" defer></script><script src="/assets/js/2.887c518d.js" defer></script><script src="/assets/js/27.5cc4cd26.js" defer></script>
  </body>
</html>
